{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/victoria/Documents/GitHub/movieapp/src/App.js\";\n//-----------------------------------------------------------------------------------------\n// IMPORT STATEMENTS\n//-----------------------------------------------------------------------------------------\nimport React, { Component } from 'react'; //Components\n\nimport MovieList from './Components/MovieList';\nimport NominationList from './Components/NominationList';\nimport PopUp from './Components/PopUp'; //-----------------------------------------------------------------------------------------\n// COMPONENT\n//-----------------------------------------------------------------------------------------\n\nclass App extends Component {\n  constructor() {\n    super(); // Initial State\n\n    this.state = {\n      movieList: [],\n      nominations: [],\n      titleSearch: \"\",\n      searchTerm: \"\",\n      clickedItem: \"\",\n      nominateBtn: \"\",\n      nominateBtnClass: \"nominateBtn\"\n    }; //Functions\n\n    this.createArrayofTitleKey = this.createArrayofTitleKey.bind(this);\n    this.deleteNomination = this.deleteNomination.bind(this);\n    this.nominationButton = this.nominationButton.bind(this);\n    this.nominateMovie = this.nominateMovie.bind(this);\n    this.removeDuplicates = this.removeDuplicates.bind(this);\n    this.searchAPI = this.searchAPI.bind(this);\n    this.updateMovieURL = this.updateMovieURL.bind(this);\n    this.updateSearchTerm = this.updateSearchTerm.bind(this);\n  }\n\n  createArrayofTitleKey(objectList) {\n    /**Takes an input that is an array of movie objects. Converts all the Title keys of the\n    of the object into an array. Returns the array of titles. **/\n    var i;\n    var keyList = [];\n\n    for (i = 0; i < objectList.length; i++) {\n      keyList.push(objectList[i].Title);\n    }\n\n    return keyList;\n  }\n\n  deleteNomination() {\n    /**Takes no input. Loops through all the nominations to find the nomination that was clicked and\n    removes it from the array. The function then saves the new array to the state. **/\n    var i;\n\n    for (i = 0; i < this.state.nominations.length; i++) {\n      /*Checks if the current nomination is equal to the value of the clicked nomination.*/\n      if (this.state.nominations[i] === this.state.clickedItem) {\n        /*Creates a new array of nominations without the clicked item*/\n        var newArray = this.state.nominations;\n        newArray.splice(i, 1);\n        this.setState({\n          nominations: newArray\n        });\n      }\n    }\n  }\n\n  nominationButton(nomination) {\n    /**Takes a nominated movie as an input. Saves the nominated movie to the state so that it can be refenced later\n    in the deleteNomination() function if the user chooses to delete the nomination. **/\n    this.setState({\n      clickedItem: nomination\n    });\n    this.setState({\n      nominateBtnClass: \"nominateBtnDisabled\"\n    });\n  }\n\n  nominateMovie(movie) {\n    /**Takes string of a movie title as an input. Checks to see if the movie was previously nominated and if there are less\n    than 5 nominations. If so the nominations array is updated to include the new movie.**/\n    // Checks to see if the movie was nominated\n    if (this.state.nominations === 0) {\n      var newArray = [movie];\n      this.setState({\n        nominations: newArray\n      });\n    } else {\n      var i;\n      var movieNominated = false;\n\n      for (i = 0; i < this.state.nominations.length; i++) {\n        if (this.state.nominations[i] === movie) {\n          movieNominated = true;\n          break;\n        }\n      } // Updates the nomination array if the movie was not nomitated and there are less than 5 nominations\n\n\n      if (movieNominated === false && this.state.nominations.length < 5) {\n        var array = this.state.nominations;\n        array.push(movie);\n        this.setState({\n          nominations: array\n        });\n      }\n    }\n  }\n\n  removeDuplicates(movieArray) {\n    /**Takes the array of movie objects from the API pull as in input. Loops through the array to see if there are any\n     duplicate entries. Removes the duplicates entries. The function can only remove one duplicate at a time.**/\n    var adjMovieArray = movieArray;\n    var noDuplicates = false;\n\n    while (noDuplicates === false) {\n      var i;\n      noDuplicates = true;\n      var titleList = this.createArrayofTitleKey(adjMovieArray);\n      /*Loops through the titleList until it finds a duplicate. Breaks after a duplicate is found to avoid indexing issues.*/\n\n      for (i = 0; i < titleList.length; i++) {\n        if (titleList.indexOf(titleList[i]) !== i) {\n          adjMovieArray.splice(i, 1);\n          noDuplicates = false;\n          break;\n        }\n      }\n    }\n  }\n\n  searchAPI() {\n    /*Takes no input. Creates a url to make a call to the OMDb API which returns an array with up to 10\n    movie objects that match the search terms. Saves the array of movies to the state.*/\n    var apiURL = 'https://www.omdbapi.com/?i=tt3896198&apikey=e919a77&s=';\n    var i; // Concatenates the URL for the API pull\n\n    for (i = 0; i < this.state.searchTerm.length; i++) {\n      if (this.state.searchTerm[i] !== \" \") {\n        apiURL = apiURL + this.state.searchTerm[i];\n      } else if (this.state.searchTerm[i] === \" \") {\n        apiURL = apiURL + \"+\";\n      }\n    } //Add the type field to ensure only movies are searched\n\n\n    apiURL = apiURL + \"&type=movie\"; // Makes the call to the OMDb API\n\n    fetch(apiURL).then(response => response.json()).then(data => {\n      this.removeDuplicates(data.Search);\n      var finalArray = this.updateMovieURL(data.Search);\n      this.setState({\n        movieList: finalArray\n      });\n    }).catch(error => console.log('error', error));\n  }\n\n  updateMovieURL(movieArray) {\n    /*Takes the array of movies from the state as an input. Loops through the array and looks to see if there are any \n    movies missing a poster. If so it replaces the URL with a stock image. Returns an array with the adjusted links.*/\n    var i;\n    var newMovieArray = movieArray;\n\n    for (i = 0; i < movieArray.length; i++) {\n      if (movieArray[i].Poster === \"N/A\") {\n        newMovieArray[i].Poster = \"https://github.com/SG-Command/movieapp/blob/master/src/Images/MovieFilm.png?raw=true\";\n      }\n    }\n\n    return newMovieArray;\n  }\n\n  updateSearchTerm(event) {\n    /*Takes an event from the text input as an input. Saves the input to the state.*/\n    this.setState({\n      searchTerm: event.target.value\n    });\n  } // HTML for the webpage\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"banner\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"award\",\n          alt: \"Emmy Statue\",\n          src: \"https://github.com/SG-Command/movieapp/blob/master/src/Images/EmmyTrophy.png?raw=true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"shoppies\",\n          children: \"The Shoppies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"award\",\n          alt: \"Emmy Statue\",\n          src: \"https://github.com/SG-Command/movieapp/blob/master/src/Images/EmmyTrophy.png?raw=true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topBoxes\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchBox\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"searchHeader\",\n            children: \"Search Criteria\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"searchContent\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"searchLabel\",\n              htmlFor: \"movieTitle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"searchTerm\",\n              placeholder: \"Enter a Movie...\",\n              onChange: this.updateSearchTerm,\n              name: \"movieTitle\",\n              type: \"text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"searchBtn\",\n              type: \"submit\",\n              onClick: this.searchAPI,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(NominationList, {\n          data: this.state,\n          trackNomination: this.nominationButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PopUp, {\n        deleteNomination: this.deleteNomination,\n        delete: this.deleteNomination\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"movieHeader\",\n        children: \"Movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(MovieList, {\n          data: this.state,\n          nominateMovie: this.nominateMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/victoria/Documents/GitHub/movieapp/src/App.js"],"names":["React","Component","MovieList","NominationList","PopUp","App","constructor","state","movieList","nominations","titleSearch","searchTerm","clickedItem","nominateBtn","nominateBtnClass","createArrayofTitleKey","bind","deleteNomination","nominationButton","nominateMovie","removeDuplicates","searchAPI","updateMovieURL","updateSearchTerm","objectList","i","keyList","length","push","Title","newArray","splice","setState","nomination","movie","movieNominated","array","movieArray","adjMovieArray","noDuplicates","titleList","indexOf","apiURL","fetch","then","response","json","data","Search","finalArray","catch","error","console","log","newMovieArray","Poster","event","target","value","render"],"mappings":"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","sourcesContent":["//-----------------------------------------------------------------------------------------\n// IMPORT STATEMENTS\n//-----------------------------------------------------------------------------------------\nimport React, { Component } from 'react';\n//Components\nimport MovieList from './Components/MovieList';\nimport NominationList from './Components/NominationList';\nimport PopUp from './Components/PopUp';\n\n//-----------------------------------------------------------------------------------------\n// COMPONENT\n//-----------------------------------------------------------------------------------------\nclass App extends Component {\n\n  constructor(){\n    super();\n\n    // Initial State\n    this.state = {  movieList: [],\n                    nominations: [],\n                    titleSearch: \"\",\n                    searchTerm: \"\",\n                    clickedItem: \"\",\n                    nominateBtn: \"\",\n                    nominateBtnClass: \"nominateBtn\"}\n    \n    //Functions\n    this.createArrayofTitleKey = this.createArrayofTitleKey.bind(this);\n    this.deleteNomination = this.deleteNomination.bind(this);\n    this.nominationButton = this.nominationButton.bind(this);\n    this.nominateMovie = this.nominateMovie.bind(this);\n    this.removeDuplicates = this.removeDuplicates.bind(this);\n    this.searchAPI = this.searchAPI.bind(this);\n    this.updateMovieURL = this.updateMovieURL.bind(this);\n    this.updateSearchTerm = this.updateSearchTerm.bind(this);\n  }\n\n  createArrayofTitleKey(objectList){\n    /**Takes an input that is an array of movie objects. Converts all the Title keys of the\n    of the object into an array. Returns the array of titles. **/\n\n    var i;\n    var keyList = [];\n    for(i=0;i<objectList.length;i++){\n      keyList.push(objectList[i].Title);\n    }\n    return keyList;\n  }\n\n  deleteNomination(){\n    /**Takes no input. Loops through all the nominations to find the nomination that was clicked and\n    removes it from the array. The function then saves the new array to the state. **/\n    \n    var i;\n    for(i=0;i<this.state.nominations.length; i++){\n      /*Checks if the current nomination is equal to the value of the clicked nomination.*/\n      if(this.state.nominations[i]=== this.state.clickedItem){\n        /*Creates a new array of nominations without the clicked item*/\n        var newArray = this.state.nominations\n        newArray.splice(i,1)\n        this.setState({nominations: newArray})\n      }\n    }\n  }\n\n  nominationButton(nomination){\n    /**Takes a nominated movie as an input. Saves the nominated movie to the state so that it can be refenced later\n    in the deleteNomination() function if the user chooses to delete the nomination. **/\n\n    this.setState({clickedItem: nomination});\n    this.setState({nominateBtnClass: \"nominateBtnDisabled\"});\n  }\n\n  nominateMovie(movie){\n    /**Takes string of a movie title as an input. Checks to see if the movie was previously nominated and if there are less\n    than 5 nominations. If so the nominations array is updated to include the new movie.**/\n\n    // Checks to see if the movie was nominated\n    if(this.state.nominations === 0){\n      var newArray = [movie]\n      this.setState({nominations: newArray})\n    } else {\n      var i;\n      var movieNominated = false;\n      for(i=0;i<this.state.nominations.length; i++) {\n        if(this.state.nominations[i]=== movie){\n          movieNominated = true;\n          break;\n        }\n      }\n\n      // Updates the nomination array if the movie was not nomitated and there are less than 5 nominations\n      if (movieNominated === false && this.state.nominations.length <5){\n        var array = this.state.nominations\n        array.push(movie)\n        this.setState({nominations: array})\n      }\n    }\n  }\n\n  removeDuplicates(movieArray){\n    /**Takes the array of movie objects from the API pull as in input. Loops through the array to see if there are any\n     duplicate entries. Removes the duplicates entries. The function can only remove one duplicate at a time.**/\n    \n    var adjMovieArray = movieArray;\n    var noDuplicates = false;\n    \n    while (noDuplicates === false) {\n      var i;\n      noDuplicates = true;\n      var titleList = this.createArrayofTitleKey(adjMovieArray);\n      /*Loops through the titleList until it finds a duplicate. Breaks after a duplicate is found to avoid indexing issues.*/\n      for (i=0; i<titleList.length;i++){\n        if(titleList.indexOf(titleList[i]) !== i){\n          adjMovieArray.splice(i,1);\n          noDuplicates = false;\n          break;\n        }\n      }\n    }\n  }\n\n  searchAPI(){\n    /*Takes no input. Creates a url to make a call to the OMDb API which returns an array with up to 10\n    movie objects that match the search terms. Saves the array of movies to the state.*/\n    \n    var apiURL = 'https://www.omdbapi.com/?i=tt3896198&apikey=e919a77&s='\n    var i;\n\n    // Concatenates the URL for the API pull\n    for(i=0;i<this.state.searchTerm.length;i++){\n      if (this.state.searchTerm[i] !== \" \"){\n        apiURL = apiURL + this.state.searchTerm[i]\n      } else if (this.state.searchTerm[i] === \" \"){\n        apiURL = apiURL + \"+\"\n      }\n    }\n\n    //Add the type field to ensure only movies are searched\n    apiURL = apiURL + \"&type=movie\"\n\n    // Makes the call to the OMDb API\n    fetch(apiURL).then(response => response.json()).then(data => {\n      this.removeDuplicates(data.Search)\n      var finalArray = this.updateMovieURL(data.Search);\n      this.setState({movieList: finalArray},);\n    }).catch(error => console.log('error', error));\n  }\n\n  updateMovieURL(movieArray){\n    /*Takes the array of movies from the state as an input. Loops through the array and looks to see if there are any \n    movies missing a poster. If so it replaces the URL with a stock image. Returns an array with the adjusted links.*/\n    \n    var i;\n    var newMovieArray = movieArray;\n    for (i=0; i<movieArray.length; i++){\n      if(movieArray[i].Poster === \"N/A\") {\n        newMovieArray[i].Poster = \"https://github.com/SG-Command/movieapp/blob/master/src/Images/MovieFilm.png?raw=true\";\n      }\n    }\n    return newMovieArray\n  }\n\n  updateSearchTerm(event){\n    /*Takes an event from the text input as an input. Saves the input to the state.*/\n    this.setState({searchTerm: event.target.value});\n  }\n\n  // HTML for the webpage\n  render(){\n    return (\n      <div>\n        <div className=\"banner\">\n          <img className=\"award\" alt=\"Emmy Statue\" src=\"https://github.com/SG-Command/movieapp/blob/master/src/Images/EmmyTrophy.png?raw=true\"/>\n          <h1 className=\"shoppies\">The Shoppies</h1>\n          <img className=\"award\" alt=\"Emmy Statue\" src=\"https://github.com/SG-Command/movieapp/blob/master/src/Images/EmmyTrophy.png?raw=true\"/>\n        </div>\n        <div className =\"topBoxes\">\n        <div className=\"searchBox\">\n          <h2 className=\"searchHeader\">Search Criteria</h2>\n          <div className=\"searchContent\">\n            <label className=\"searchLabel\" htmlFor=\"movieTitle\"></label>\n            <input className =\"searchTerm\" placeholder=\"Enter a Movie...\" onChange={this.updateSearchTerm} name=\"movieTitle\" type=\"text\"></input>\n            <button className=\"searchBtn\" type=\"submit\" onClick={this.searchAPI}>Search</button>\n          </div>\n        </div>\n        <NominationList data={this.state} trackNomination={this.nominationButton}/>\n        </div>\n        <PopUp deleteNomination={this.deleteNomination} delete={this.deleteNomination}/>\n        <h2 className = \"movieHeader\" >Movies</h2>\n        <div>\n        <MovieList data={this.state} nominateMovie={this.nominateMovie}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}